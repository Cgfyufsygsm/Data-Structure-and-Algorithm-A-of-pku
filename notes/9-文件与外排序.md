# 9 文件与外排序

官方复习大纲中只有置换选择排序和多路归并两个板块, 因此笔记只记这些. 内外存和磁盘相关知识请移步 ics.

## 置换选择排序
**思路**
- 首先传入 $m$ 个元素进内存建堆, 设置堆尾标志 $last = m-1$, 然后只要 $last\ge 0$:
  - 堆的根节点传送到输出缓冲区, 记为 $mval$
  - 从输入缓冲区读入一个数 $r$ :
    - 若 $r\ge mval$, 则把 $r$ 放到根节点
    - 否则 $last$ 位置的元素放到根节点, $last-=1$, 
  - 刷新堆以获得新的 $mval$
- 算法结束后, 内存中也填满了未能处理的元素, 直接建堆等待下一顺串处理

**分析**
- 输出的一个顺串最小长度是 $m$, 最优长度为整个文件(正序输入), 平均情况为 $2m$

## 多路归并 
