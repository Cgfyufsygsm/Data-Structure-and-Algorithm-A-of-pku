1. KMP算法
```cpp
//s[1] 对齐第一个字符, s[n] 是最后一个字符, next[i]是第i个字符的前缀后缀最长匹配长度
next[1] = 0; 
for (int i=2,j=0;i<=n;i++){
    while (j && s[i]!=s[j+1]) j = next[j]; // 一直往前找, 直到找到一个匹配的或者j=0
    if (s[i]==s[j+1])j++; // 找到了一个匹配的
    next[i] = j; // 保存匹配长度
}
```